[2mdiff --git a/src/main.rs b/src/main.rs[0m
[2mindex 55a7c18..8826249 100644[0m
[1m--- [22m[2ma/[0msrc/[1mmain.rs[0m
[1m+++ [22m[2mb/[0msrc/[1mmain.rs[0m
[36m@@ -90,7 +91,15 @@ [1mfn get_fixed_highlight(line: &str) -> &str {[0m
 }

 fn print(stream: &mut BufWriter<&mut dyn Write>, text: &str) {
[31m[48;2;30;0;0m[0K-[33m    stream.write_all(text.as_bytes()).[7m[31m[49munwrap[27m[33m[48;2;30;0;0m[0K();[0m
[32m+[33m    [7m[32mif let Err(error) = [27m[33mstream.write_all(text.as_bytes())[32m {[0m
[32m+        if error[33m.[7m[32mkind[27m[33m()[32m == ErrorKind::BrokenPipe {[0m
[32m+            // This is fine, somebody probably just quit their pager before it[0m
[32m+            // was done reading our output.[0m
[32m+            exit(0);[0m
[32m+        }[0m
[32m+[0m
[32m+        panic!("Error writing diff to pager: {:?}", error)[33m;[0m
[32m+    }[0m
 }

 fn println(stream: &mut BufWriter<&mut dyn Write>, text: &str) {
